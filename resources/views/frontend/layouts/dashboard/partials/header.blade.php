<!-- Topbar layout start -->
<header class="topbar">
    <div>
        <button class="sidebar-toggle-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M4 6H20M4 12H20M4 18H20" stroke="black" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" />
            </svg>
        </button>
        <div class="topbar-title">{{ __('User Dashboard') }}</div>
    </div>
    <div>
        <div class="lang-select">
            <input  type="text" class="lang-value" value="{{app()->getLocale()}}" hidden />
            <button translate="no" class="change-btn" type="button">
                <span>{{strtoupper(app()->getLocale())}}</span>
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="32"
                    height="32"
                    viewBox="0 0 32 32"
                    fill="none"
                >
                    <path
                        d="M16 1C13.0333 1 10.1332 1.87973 7.66645 3.52796C5.19972 5.17618 3.27713 7.51886 2.14181 10.2597C1.0065 13.0006 0.709449 16.0166 1.28823 18.9264C1.86701 21.8361 3.29562 24.5088 5.3934 26.6066C7.49119 28.7044 10.1639 30.133 13.0737 30.7118C15.9834 31.2906 18.9994 30.9935 21.7403 29.8582C24.4812 28.7229 26.8238 26.8003 28.4721 24.3336C30.1203 21.8668 31 18.9667 31 16C30.9955 12.0231 29.4137 8.21044 26.6016 5.39837C23.7896 2.5863 19.9769 1.0045 16 1ZM16 29C13.935 29 11.773 26.338 10.7 22H21.3C20.227 26.338 18.065 29 16 29ZM10.294 20C9.90201 17.3477 9.90201 14.6523 10.294 12H21.706C21.9043 13.3241 22.0026 14.6612 22 16C22.0026 17.3388 21.9043 18.6759 21.706 20H10.294ZM3.00001 16C3.00073 14.6415 3.21536 13.2917 3.63601 12H8.28601C7.90467 14.653 7.90467 17.347 8.28601 20H3.63601C3.21536 18.7083 3.00073 17.3585 3.00001 16ZM16 3C18.065 3 20.227 5.662 21.3 10H10.7C11.773 5.662 13.935 3 16 3ZM23.714 12H28.364C29.2118 14.5993 29.2118 17.4007 28.364 20H23.714C23.9036 18.6751 23.9992 17.3384 24 16C23.9992 14.6616 23.9036 13.3249 23.714 12ZM27.521 10H23.354C22.909 7.82502 22.0364 5.76008 20.787 3.925C23.6852 5.0808 26.0739 7.23577 27.521 10ZM11.213 3.925C9.96357 5.76008 9.09103 7.82502 8.64601 10H4.47901C5.92613 7.23577 8.31486 5.0808 11.213 3.925ZM4.47901 22H8.64601C9.09103 24.175 9.96357 26.2399 11.213 28.075C8.31486 26.9192 5.92613 24.7642 4.47901 22ZM20.787 28.075C22.0364 26.2399 22.909 24.175 23.354 22H27.521C26.0739 24.7642 23.6852 26.9192 20.787 28.075Z"
                        fill="#1D2635"
                    />
                </svg>
            </button>
            <div class="lang-dropdown">
                <button @if(app()->getLocale() !== 'ar') @endif class="lang-item @if(app()->getLocale() !== 'ar') active @endif" data-lang="en" type="button">
                    <span translate="no">English</span>
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="32"
                        height="32"
                        viewBox="0 0 32 32"
                        fill="none"
                    >
                        <path
                            d="M16 1C13.0333 1 10.1332 1.87973 7.66645 3.52796C5.19972 5.17618 3.27713 7.51886 2.14181 10.2597C1.0065 13.0006 0.709449 16.0166 1.28823 18.9264C1.86701 21.8361 3.29562 24.5088 5.3934 26.6066C7.49119 28.7044 10.1639 30.133 13.0737 30.7118C15.9834 31.2906 18.9994 30.9935 21.7403 29.8582C24.4812 28.7229 26.8238 26.8003 28.4721 24.3336C30.1203 21.8668 31 18.9667 31 16C30.9955 12.0231 29.4137 8.21044 26.6016 5.39837C23.7896 2.5863 19.9769 1.0045 16 1ZM16 29C13.935 29 11.773 26.338 10.7 22H21.3C20.227 26.338 18.065 29 16 29ZM10.294 20C9.90201 17.3477 9.90201 14.6523 10.294 12H21.706C21.9043 13.3241 22.0026 14.6612 22 16C22.0026 17.3388 21.9043 18.6759 21.706 20H10.294ZM3.00001 16C3.00073 14.6415 3.21536 13.2917 3.63601 12H8.28601C7.90467 14.653 7.90467 17.347 8.28601 20H3.63601C3.21536 18.7083 3.00073 17.3585 3.00001 16ZM16 3C18.065 3 20.227 5.662 21.3 10H10.7C11.773 5.662 13.935 3 16 3ZM23.714 12H28.364C29.2118 14.5993 29.2118 17.4007 28.364 20H23.714C23.9036 18.6751 23.9992 17.3384 24 16C23.9992 14.6616 23.9036 13.3249 23.714 12ZM27.521 10H23.354C22.909 7.82502 22.0364 5.76008 20.787 3.925C23.6852 5.0808 26.0739 7.23577 27.521 10ZM11.213 3.925C9.96357 5.76008 9.09103 7.82502 8.64601 10H4.47901C5.92613 7.23577 8.31486 5.0808 11.213 3.925ZM4.47901 22H8.64601C9.09103 24.175 9.96357 26.2399 11.213 28.075C8.31486 26.9192 5.92613 24.7642 4.47901 22ZM20.787 28.075C22.0364 26.2399 22.909 24.175 23.354 22H27.521C26.0739 24.7642 23.6852 26.9192 20.787 28.075Z"
                            fill="#1D2635"
                        />
                    </svg>
                </button>
                <button @if(app()->getLocale() === 'ar') @endif class="lang-item @if(app()->getLocale() === 'ar') active @endif" data-lang="ar" type="button">
                    <span translate="no">Arabic</span>
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="32"
                        height="32"
                        viewBox="0 0 32 32"
                        fill="none"
                    >
                        <path
                            d="M16 1C13.0333 1 10.1332 1.87973 7.66645 3.52796C5.19972 5.17618 3.27713 7.51886 2.14181 10.2597C1.0065 13.0006 0.709449 16.0166 1.28823 18.9264C1.86701 21.8361 3.29562 24.5088 5.3934 26.6066C7.49119 28.7044 10.1639 30.133 13.0737 30.7118C15.9834 31.2906 18.9994 30.9935 21.7403 29.8582C24.4812 28.7229 26.8238 26.8003 28.4721 24.3336C30.1203 21.8668 31 18.9667 31 16C30.9955 12.0231 29.4137 8.21044 26.6016 5.39837C23.7896 2.5863 19.9769 1.0045 16 1ZM16 29C13.935 29 11.773 26.338 10.7 22H21.3C20.227 26.338 18.065 29 16 29ZM10.294 20C9.90201 17.3477 9.90201 14.6523 10.294 12H21.706C21.9043 13.3241 22.0026 14.6612 22 16C22.0026 17.3388 21.9043 18.6759 21.706 20H10.294ZM3.00001 16C3.00073 14.6415 3.21536 13.2917 3.63601 12H8.28601C7.90467 14.653 7.90467 17.347 8.28601 20H3.63601C3.21536 18.7083 3.00073 17.3585 3.00001 16ZM16 3C18.065 3 20.227 5.662 21.3 10H10.7C11.773 5.662 13.935 3 16 3ZM23.714 12H28.364C29.2118 14.5993 29.2118 17.4007 28.364 20H23.714C23.9036 18.6751 23.9992 17.3384 24 16C23.9992 14.6616 23.9036 13.3249 23.714 12ZM27.521 10H23.354C22.909 7.82502 22.0364 5.76008 20.787 3.925C23.6852 5.0808 26.0739 7.23577 27.521 10ZM11.213 3.925C9.96357 5.76008 9.09103 7.82502 8.64601 10H4.47901C5.92613 7.23577 8.31486 5.0808 11.213 3.925ZM4.47901 22H8.64601C9.09103 24.175 9.96357 26.2399 11.213 28.075C8.31486 26.9192 5.92613 24.7642 4.47901 22ZM20.787 28.075C22.0364 26.2399 22.909 24.175 23.354 22H27.521C26.0739 24.7642 23.6852 26.9192 20.787 28.075Z"
                            fill="#1D2635"
                        />
                    </svg>
                </button>
            </div>
        </div>

        <div class="dashboard-search-input">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path
                    d="M17.5 17.5L12.5 12.5M2.5 8.33333C2.5 9.09938 2.65088 9.85792 2.94404 10.5657C3.23719 11.2734 3.66687 11.9164 4.20854 12.4581C4.75022 12.9998 5.39328 13.4295 6.10101 13.7226C6.80875 14.0158 7.56729 14.1667 8.33333 14.1667C9.09938 14.1667 9.85792 14.0158 10.5657 13.7226C11.2734 13.4295 11.9164 12.9998 12.4581 12.4581C12.9998 11.9164 13.4295 11.2734 13.7226 10.5657C14.0158 9.85792 14.1667 9.09938 14.1667 8.33333C14.1667 7.56729 14.0158 6.80875 13.7226 6.10101C13.4295 5.39328 12.9998 4.75022 12.4581 4.20854C11.9164 3.66687 11.2734 3.23719 10.5657 2.94404C9.85792 2.65088 9.09938 2.5 8.33333 2.5C7.56729 2.5 6.80875 2.65088 6.10101 2.94404C5.39328 3.23719 4.75022 3.66687 4.20854 4.20854C3.66687 4.75022 3.23719 5.39328 2.94404 6.10101C2.65088 6.80875 2.5 7.56729 2.5 8.33333Z"
                    stroke="#798090" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
            <button type="button" class="toggle-btn">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"
                    fill="none">
                    <path
                        d="M17.5 17.5L12.5 12.5M2.5 8.33333C2.5 9.09938 2.65088 9.85792 2.94404 10.5657C3.23719 11.2734 3.66687 11.9164 4.20854 12.4581C4.75022 12.9998 5.39328 13.4295 6.10101 13.7226C6.80875 14.0158 7.56729 14.1667 8.33333 14.1667C9.09938 14.1667 9.85792 14.0158 10.5657 13.7226C11.2734 13.4295 11.9164 12.9998 12.4581 12.4581C12.9998 11.9164 13.4295 11.2734 13.7226 10.5657C14.0158 9.85792 14.1667 9.09938 14.1667 8.33333C14.1667 7.56729 14.0158 6.80875 13.7226 6.10101C13.4295 5.39328 12.9998 4.75022 12.4581 4.20854C11.9164 3.66687 11.2734 3.23719 10.5657 2.94404C9.85792 2.65088 9.09938 2.5 8.33333 2.5C7.56729 2.5 6.80875 2.65088 6.10101 2.94404C5.39328 3.23719 4.75022 3.66687 4.20854 4.20854C3.66687 4.75022 3.23719 5.39328 2.94404 6.10101C2.65088 6.80875 2.5 7.56729 2.5 8.33333Z"
                        stroke="#798090" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
            </button>
            <input type="text" placeholder="{{ __('Search for villa') }}" />
        </div>
        <div class="user-dropdown dropdown">
            <button class="user-profile" type="button">
                <img src="{{ asset(Auth::user()->avatar ?? 'frontend/default-avatar-profile.jpg') }}"
                    alt="user profile" />
                <div>
                    <div class="user-name">{{ Auth::user()->name }}</div>
{{--                    <div class="user-role">{{ Auth::user()->role == 'user' ? __('Customer') : '' }}</div>--}}
                </div>
            </button>
        </div>
    </div>
</header>
<!-- Topbar layout end -->

<script>

    function langChange(value) {
        var url = '{{ route('setLocale', ':code') }}';
        $.ajax({
            type: "POST",
            url: url.replace(':code', value),
            data: {
                "_token": "{{ csrf_token() }}",
            },
            success: function(resp) {
                //handle success
                window.location.reload();
            },
            error: function(error) {
                //handle error
            }
        })
        return false;
    }
    document.querySelector(".lang-value").addEventListener("input", (e) => {
        console.log("lang-value")
        langChange(e.target.value);
    })

</script>
